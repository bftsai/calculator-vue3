import{_ as b,c as l,a as i,t as h,b as n,F as u,o as m}from"./index-1Jl4iem3.js";const d={data(){return{symbol:"",store1:0,store2:0,total:0,str:0,counting:!1,prompt:!1}},watch:{str(){const r=RegExp("^-?[\\d]{0,10}$");!this.symbol||this.counting?this.store1=Number(this.str):this.store2=Number(this.str),r.test(Number(this.str))&&(this.prompt=!1)}},methods:{reset(){this.str="0",this.store1=0,this.store2=0,this.total=0,this.symbol="",this.counting=!1,this.prompt=!1},switchSymbol(r){if(!this.counting&&r.target.textContent==="-"&&this.store1===0)this.symbol="",this.str="-0";else{if(new RegExp("^[+-/\\*]$").test(this.symbol))return;this.store1&&(this.total=this.store1),this.str="0",this.symbol=r.target.textContent}},storeNum(r){new RegExp("^-?[\\d]{1,9}$").test(Number(this.str))?this.str+=r.target.textContent:this.prompt=!0},del(){this.str.slice(0,-1)==="-"?this.str="0":this.str=this.str.slice(0,-1)},count(){const r=RegExp("^0\\.00");if(this.counting){if(this.symbol==="+"?this.total+=this.store1:this.symbol==="-"?this.total-=this.store1:this.symbol==="*"&&(this.total*=this.store1),this.symbol==="/"){if(!this.store1){alert("除數不得為零！！！"),this.reset();return}this.total%this.store1?r.test((this.total/=this.store1).toFixed(2))?this.total=0:this.total=(this.total/=this.store1).toFixed(2):this.total=this.total/=this.store1}}else if(this.symbol==="+"?this.total=this.store1+this.store2:this.store1<0?this.total=this.store1-this.store2:this.symbol==="-"?this.total=this.store1-this.store2:this.symbol==="*"&&(this.total=this.store1*this.store2),this.symbol==="/"){if(!this.store2){alert("除數不得為零！！！"),this.reset();return}this.store1%this.store2?r.test((this.store1/this.store2).toFixed(2))?this.total=0:this.total=(this.store1/this.store2).toFixed(2):this.total=this.store1/this.store2}this.symbol="=",this.store1=0,this.store2=0,this.str="0",this.counting=!0,this.checkTotal()},checkTotal(){const r=new RegExp("^-?[\\d]{0,10}$"),t=new RegExp("^-?\\d{0,10}.[\\d]{0,2}$");String(this.total).includes(".")?t.test(this.total)||(this.reset(),alert("數值過大，無法計算！！！")):r.test(this.total)||(this.reset(),alert("數值過大，無法計算！！！"))}}},a=i("h1",{class:"text-center fw-bold fs-1"},"Calculator",-1),c={class:"calculator"},f={class:"position-relative mb-20"},y={class:"position-absolute top-15 start-20"},N={class:"text-end fs-2 fw-bold border-2 rounded-5 p-10"},g={key:0,class:"text-danger fw-bold text-end"},v={class:"btnArea"},k={class:"d-flex flex-wrap justify-content-between"};function w(r,t,x,C,o,s){return m(),l(u,null,[a,i("main",null,[i("div",c,[i("div",f,[i("div",y,h(o.symbol),1),i("p",N,h(o.symbol==="="?o.store1?o.store1:o.total:Object.is(Number(o.str),-0)?"-0":Number(o.str)),1),o.prompt?(m(),l("p",g,"最多 10 位數！！！")):n("",!0)]),i("div",v,[i("div",k,[i("div",{class:"btn mb-10 w-210",onClick:t[0]||(t[0]=(...e)=>s.reset&&s.reset(...e))},"Reset"),i("div",{class:"btn mb-10",onClick:t[1]||(t[1]=(...e)=>s.del&&s.del(...e))},"Del"),i("div",{class:"btn mb-10",onClick:t[2]||(t[2]=(...e)=>s.switchSymbol&&s.switchSymbol(...e))},"/"),i("div",{class:"btn mb-10",onClick:t[3]||(t[3]=(...e)=>s.storeNum&&s.storeNum(...e))},"7"),i("div",{class:"btn mb-10",onClick:t[4]||(t[4]=(...e)=>s.storeNum&&s.storeNum(...e))},"8"),i("div",{class:"btn mb-10",onClick:t[5]||(t[5]=(...e)=>s.storeNum&&s.storeNum(...e))},"9"),i("div",{class:"btn mb-10",onClick:t[6]||(t[6]=(...e)=>s.switchSymbol&&s.switchSymbol(...e))},"*"),i("div",{class:"btn mb-10",onClick:t[7]||(t[7]=(...e)=>s.storeNum&&s.storeNum(...e))},"4"),i("div",{class:"btn mb-10",onClick:t[8]||(t[8]=(...e)=>s.storeNum&&s.storeNum(...e))},"5"),i("div",{class:"btn mb-10",onClick:t[9]||(t[9]=(...e)=>s.storeNum&&s.storeNum(...e))},"6"),i("div",{class:"btn mb-10",onClick:t[10]||(t[10]=(...e)=>s.switchSymbol&&s.switchSymbol(...e))},"-"),i("div",{class:"btn mb-10",onClick:t[11]||(t[11]=(...e)=>s.storeNum&&s.storeNum(...e))},"1"),i("div",{class:"btn mb-10",onClick:t[12]||(t[12]=(...e)=>s.storeNum&&s.storeNum(...e))},"2"),i("div",{class:"btn mb-10",onClick:t[13]||(t[13]=(...e)=>s.storeNum&&s.storeNum(...e))},"3"),i("div",{class:"btn mb-10",onClick:t[14]||(t[14]=(...e)=>s.switchSymbol&&s.switchSymbol(...e))},"+"),i("div",{class:"btn mb-10 w-320",onClick:t[15]||(t[15]=(...e)=>s.storeNum&&s.storeNum(...e))},"0"),i("div",{class:"btn mb-10",onClick:t[16]||(t[16]=(...e)=>s.count&&s.count(...e))},"=")])])])])],64)}const E=b(d,[["render",w]]);export{E as default};
